<setup multiprocessing="1" numProcess="2">
    <database id="sourcedb" system="source" environment="environment"/>
    <execute uri="script/source.scr.sql" target="sourcedb"/>

    <generate name="CUSTOMER" count="100" target="sourcedb">
        <key name="id" generator="IncrementGenerator"/>
        <key name="tc_creation_src" values="'BEN', 'SUSAN', 'MAY', 'HARRY', 'MARK'"/>
        <key name="tc_creation"
             generator="DateTimeGenerator(min='2020-08-01', max='2025-08-21', input_format='%Y-%m-%d')"/>
        <key name="no" generator="IncrementGenerator"/>
        <key name="active" type="bool" constant="False"/>
        <variable name="company" entity="Company" dataset="DE" locale="de_DE"/>
        <key name="name" script="company.short_name"/>
    </generate>

    <ml-train name="customer_db_gen"
              source="sourcedb"
              type="CUSTOMER"
              mode="persist"
              maxTrainingTime="5"/>

    <!-- Generate synthetic CUSTOMER records using the ML generator -->
    <generate name="NEW_CUSTOMER" count="5000" pageSize="1000" source="customer_db_gen" target="ConsoleExporter" >
        <key name="id" generator="IncrementGenerator"/>
    </generate>
</setup>
