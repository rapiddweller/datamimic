<setup multiprocessing="0">
    <generate name="credit_card" count="10" target="ConsoleExporter">
        <variable name="credit_card" entity="CreditCard"/>
        <key name="credit_card_number" script="credit_card.card_number"/>    
        <key name="credit_card_number1" script="credit_card.card_number"/>
        <key name="card_holder" script="credit_card.card_holder"/>
        <key name="card_holder1" script="credit_card.card_holder"/>
        <key name="cvc_number" script="credit_card.cvc_number"/>
        <key name="cvc_number1" script="credit_card.cvc_number"/>
        <key name="expiration_date" script="credit_card.expiration_date"/>
        <key name="expiration_date1" script="credit_card.expiration_date"/>
        <key name="credit_card_provider" script="credit_card.card_provider"/>
        <key name="credit_card_provider1" script="credit_card.card_provider"/>
        <variable name="credit_card1" entity="CreditCard"/>
        <key name="credit_card_number2" script="credit_card1.card_number"/>
        <key name="credit_card_number3" script="credit_card1.card_number"/>
        <key name="card_holder2" script="credit_card1.card_holder"/>
        <key name="card_holder3" script="credit_card1.card_holder"/>
        <key name="cvc_number2" script="credit_card1.cvc_number"/>
        <key name="cvc_number3" script="credit_card1.cvc_number"/>
        <key name="expiration_date2" script="credit_card1.expiration_date"/>
        <key name="expiration_date3" script="credit_card1.expiration_date"/>
        <key name="credit_card_provider2" script="credit_card1.card_provider"/>
        <key name="credit_card_provider3" script="credit_card1.card_provider"/>
    </generate>

    <!-- WHY: Ensure seeded demographic overrides propagate to credit card holders for deterministic integration checks. -->
    <echo>Generating seeded credit cards with demographic bounds</echo>
    <generate name="seeded_credit_cards" count="5" target="LogExporter">
        <variable
            name="seeded_card"
            entity="CreditCard"
            dataset="US"
            ageMin="32"
            ageMax="40"
            rngSeed="88"
        />
        <key name="card_number" script="seeded_card.card_number"/>
        <key name="card_holder" script="seeded_card.card_holder"/>
        <key name="card_holder_age" script="seeded_card.card_holder_data.age"/>
        <key name="bank_name" script="seeded_card.bank_name"/>
        <key name="currency" script="seeded_card.bank_account_data.currency"/>
    </generate>
</setup>
